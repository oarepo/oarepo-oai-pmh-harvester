record:
  use: [ invenio ]
  module:
    qualified: oarepo_oaipmh_harvester.oai_record
    alias: oarepo-oaipmh-record
  service-config:
    components:
      - invenio_records_resources.services.records.components.DataComponent
  record:
    class: oarepo_oaipmh_harvester.oai_record.records.api.OaiRecord

  properties:
    batch: 
      label.cs: Dávka záznamu
      label.en: Harvester batch
      # batch in which the record has been modified the last time
      type: relation
      model: oaipmh-batch
      keys:
      - key: id
        model:
          type: keyword
      required: true

    harvester:
      label.cs: Harvestr záznamu
      label.en: Harvester
      type: relation
      model: oaipmh-harvester
      keys:
      - key: id
        model:
          type: keyword
      required: true

    local_identifier:
      label.cs: Místní PID
      label.en: Local PID
      type: keyword
    
    oai_identifier:
      label.cs: Cizí OAI identifikátor
      label.en: Remote OAI identifier
      type: keyword

    datestamp:
      label.cs: OAI datum
      label.en: OAI date
      type: datetime

    status: 
      label.cs: Stav zpracování
      label.en: Processing State
      enum.O.cs: Skončeno OK
      enum.W.cs: Varování
      enum.E.cs: Chyba
      enum.S.cs: Přeskočeno
      enum.O.en: Finished
      enum.W.en: Warning
      enum.E.en: Error
      enum.S.en: Skipped
      type: keyword
      enum: [ O, W, E, S ]
    
    warnings[]: 
      ^label.cs: Varování
      ^label.en: Warnings
      type: fulltext+keyword
    
    errors[]:
      ^label.cs: Chyby zpracování
      ^label.en: Processing errors
      type: object
      properties:
        error_type: keyword
        error_message: fulltext+keyword
        error_info: fulltext


    entry:
      label.cs: Položka
      label.en: Entry
      type: flattened

    context:
      label.cs: Kontext
      label.en: Context
      type: flattened

    manual:
      label.cs: Ručně vyžádána
      label.en: Initiated manually
      type: boolean

  plugins:
    builder:
      disable: 
      - invenio_cli_setup_cfg
      - invenio_cli
      - script_sample_data
      - invenio_record_metadata_alembic_setup_cfg
  permissions:
    presets:
    - oai_harvester

settings:
  schema-server: 'local://'
  i18n-languages: ['cs', 'en']
